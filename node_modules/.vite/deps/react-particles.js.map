{
  "version": 3,
  "sources": ["../../react-particles/esm/Particles.js", "../../react-particles/esm/Utils.js", "../../react-particles/esm/index.js"],
  "sourcesContent": ["import React, { Component } from \"react\";\r\nimport { tsParticles } from \"tsparticles-engine\";\r\nimport { deepCompare } from \"./Utils\";\r\nconst defaultId = \"tsparticles\";\r\nclass Particles extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            init: false,\r\n            library: undefined,\r\n        };\r\n    }\r\n    destroy() {\r\n        if (!this.state.library) {\r\n            return;\r\n        }\r\n        this.state.library.destroy();\r\n        this.setState({\r\n            library: undefined,\r\n        });\r\n    }\r\n    shouldComponentUpdate(nextProps) {\r\n        const nextOptions = nextProps.options ?? nextProps.params, currentOptions = this.props.options ?? this.props.params;\r\n        return (nextProps.url !== this.props.url ||\r\n            nextProps.id !== this.props.id ||\r\n            nextProps.canvasClassName !== this.props.canvasClassName ||\r\n            nextProps.className !== this.props.className ||\r\n            nextProps.height !== this.props.height ||\r\n            nextProps.width !== this.props.width ||\r\n            !deepCompare(nextProps.style, this.props.style) ||\r\n            nextProps.init !== this.props.init ||\r\n            nextProps.loaded !== this.props.loaded ||\r\n            !deepCompare(nextOptions, currentOptions, key => key.startsWith(\"_\")));\r\n    }\r\n    componentDidUpdate() {\r\n        this.refresh();\r\n    }\r\n    forceUpdate() {\r\n        this.refresh().then(() => {\r\n            super.forceUpdate();\r\n        });\r\n    }\r\n    componentDidMount() {\r\n        (async () => {\r\n            if (this.props.init) {\r\n                await this.props.init(tsParticles);\r\n            }\r\n            this.setState({\r\n                init: true,\r\n            }, async () => {\r\n                await this.loadParticles();\r\n            });\r\n        })();\r\n    }\r\n    componentWillUnmount() {\r\n        this.destroy();\r\n    }\r\n    render() {\r\n        const { width, height, className, canvasClassName, id } = this.props;\r\n        return (React.createElement(\"div\", { className: className, id: id },\r\n            React.createElement(\"canvas\", { className: canvasClassName, style: {\r\n                    ...this.props.style,\r\n                    width,\r\n                    height,\r\n                } })));\r\n    }\r\n    async refresh() {\r\n        this.destroy();\r\n        await this.loadParticles();\r\n    }\r\n    async loadParticles() {\r\n        if (!this.state.init) {\r\n            return;\r\n        }\r\n        const id = this.props.id ?? Particles.defaultProps.id ?? defaultId, container = await tsParticles.load({\r\n            url: this.props.url,\r\n            id,\r\n            options: this.props.options ?? this.props.params,\r\n        });\r\n        if (this.props.container) {\r\n            this.props.container.current = container;\r\n        }\r\n        this.setState({\r\n            library: container,\r\n        });\r\n        if (this.props.loaded) {\r\n            await this.props.loaded(container);\r\n        }\r\n    }\r\n}\r\nParticles.defaultProps = {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    options: {},\r\n    style: {},\r\n    url: undefined,\r\n    id: defaultId,\r\n};\r\nexport default Particles;\r\n", "const isObject = (val) => typeof val === \"object\" && val !== null;\r\nexport function deepCompare(obj1, obj2, excludeKeyFn = () => false) {\r\n    if (!isObject(obj1) || !isObject(obj2)) {\r\n        return obj1 === obj2;\r\n    }\r\n    const keys1 = Object.keys(obj1).filter(key => !excludeKeyFn(key)), keys2 = Object.keys(obj2).filter(key => !excludeKeyFn(key));\r\n    if (keys1.length !== keys2.length) {\r\n        return false;\r\n    }\r\n    for (const key of keys1) {\r\n        const value1 = obj1[key], value2 = obj2[key];\r\n        if (isObject(value1) && isObject(value2)) {\r\n            if (value1 === obj2 && value2 === obj1) {\r\n                continue;\r\n            }\r\n            if (!deepCompare(value1, value2, excludeKeyFn)) {\r\n                return false;\r\n            }\r\n        }\r\n        else if (Array.isArray(value1) && Array.isArray(value2)) {\r\n            if (!deepCompareArrays(value1, value2, excludeKeyFn)) {\r\n                return false;\r\n            }\r\n        }\r\n        else if (value1 !== value2) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nfunction deepCompareArrays(arr1, arr2, excludeKeyFn) {\r\n    if (arr1.length !== arr2.length) {\r\n        return false;\r\n    }\r\n    for (let i = 0; i < arr1.length; i++) {\r\n        const val1 = arr1[i], val2 = arr2[i];\r\n        if (Array.isArray(val1) && Array.isArray(val2)) {\r\n            if (!deepCompareArrays(val1, val2, excludeKeyFn)) {\r\n                return false;\r\n            }\r\n        }\r\n        else if (isObject(val1) && isObject(val2)) {\r\n            if (!deepCompare(val1, val2, excludeKeyFn)) {\r\n                return false;\r\n            }\r\n        }\r\n        else if (val1 !== val2) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n", "import Particles from \"./Particles\";\r\nexport default Particles;\r\nexport { Particles };\r\n"],
  "mappings": "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",
  "names": ["React"]
}
